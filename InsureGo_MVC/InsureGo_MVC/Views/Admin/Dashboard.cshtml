@model List<InsureGo_MVC.Models.ViewModels.HomeClaimViewModel>
@{
    ViewBag.Title = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    html, body {
        height: 100%;
        margin: 0;
        background-color: #0e141b;
        font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .admin-hero {
        position: relative;
        min-height: 100vh;
        display: grid;
        place-items: center;
        padding: 24px 16px;
        isolation: isolate;
    }

        .admin-hero::before {
            content: "";
            position: fixed;
            inset: 0;
            z-index: -1;
            background: linear-gradient(0deg, rgba(15,25,35,0.45), rgba(15,25,35,0.45)), url("https://prolink.insure/wp-content/uploads/2024/02/First-Time-Car-Insurance.png") center / cover no-repeat;
        }


    .glass-card {
        width: 100%;
        max-width: 900px;
        padding: 28px;
        border-radius: 24px;
        background: rgba(255, 255, 255, 0.18);
        border: 1px solid rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(10px);
        box-shadow: 0 12px 35px rgba(0,0,0,0.3);
        color: black;
    }

        .glass-card h2 {
            margin: 0;
            font-size: 34px;
            font-weight: 800;
            text-align: center;
            color: black;
        }

    .glass-sub {
        text-align: center;
        margin-top: 6px;
        margin-bottom: 20px;
        font-size: 16px;
        opacity: 0.9;
    }


    .glass-stats {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-bottom: 25px;
        flex-wrap: wrap;
    }

        .glass-stats p {
            margin: 0;
            font-size: 15px;
        }

        .glass-stats strong {
            color: #3da5ff;
            font-size: 18px;
        }

    hr {
        border: none;
        height: 1px;
        background: rgba(255,255,255,0.3);
        margin: 20px 0;
    }


    h3 {
        margin-bottom: 18px;
        text-align: center;
    }

    .claim-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

        .claim-list li {
            background: #ffffff;
            color: #333;
            padding: 20px;
            border-radius: 14px;
            margin-bottom: 20px;
            box-shadow: 0 8px 22px rgba(0,0,0,0.12);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

            .claim-list li:hover {
                transform: translateY(-4px);
                box-shadow: 0 14px 30px rgba(0,0,0,0.18);
            }

        .claim-list span {
            font-weight: 600;
            color: #007bff;
        }

        .claim-list p {
            margin: 4px 0;
        }

        .claim-list form {
            display: flex;
            gap: 12px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .claim-list input[type="number"] {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            width: 160px;
        }

        .claim-list button {
            padding: 8px 22px;
            background-color: #28a745;
            color: #fff;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

            .claim-list button:hover {
                background-color: #218838;
                transform: translateY(-2px);
            }

    .admin-footer {
        margin-top: 35px;
        padding-top: 20px;
        border-top: 1px solid rgba(255,255,255,0.25);
        display: flex;
        justify-content: center;
    }

    .logout-btn {
        padding: 12px 28px;
        border-radius: 999px;
        font-weight: 700;
        text-decoration: none;
        color: #fff;
        background: linear-gradient(180deg, #ff4d4d, #d93636);
        box-shadow: 0 10px 24px rgba(0,0,0,0.3);
        transition: all 0.2s ease;
    }

        .logout-btn:hover {
            filter: brightness(1.05);
            transform: translateY(-2px);
        }


    @@media (max-width: 600px) {
        .glass-stats {
            flex-direction: column;
            align-items: center;
        }

        .claim-list form {
            flex-direction: column;
            align-items: stretch;
        }

        .claim-list input,
        .claim-list button {
            width: 100%;
        }
    }
</style>

<div class="admin-hero">
    <div class="glass-card">
        <h2>Admin Dashboard</h2>
        <div class="glass-sub">Welcome, @Session["Admin"]!</div>

        <div class="glass-stats">
            <p>Pending Claims: <strong>@ViewBag.PendingClaims</strong></p>
        </div>

        <hr />

        <h3>Pending Claims</h3>

        @if (Model != null && Model.Any())
        {
            <ul class="claim-list">
                @foreach (var claim in Model)
                {
                    <li>
                        <p><span>Policy:</span> @claim.PolicyNumber</p>
                        <p><span>Vehicle:</span> @claim.VehicleNumber</p>
                        <p><span>Reason:</span> @claim.ClaimReason</p>
                        <p><span>Date:</span> @claim.ClaimDate.ToString("dd MMM yyyy")</p>

                        @using (Html.BeginForm("ApproveClaim", "Admin", FormMethod.Post))
                        {
                            @Html.Hidden("claimId", claim.ClaimId)
                            <input type="number"
                                   name="claimAmount"
                                   value="@claim.ClaimAmount ?? 0"
                                   step="0.01"
                                   required />
                            <button type="submit">Approve</button>
                        }
                    </li>
                }
            </ul>
        }
        else
        {
            <p style="text-align:center;">No pending claims.</p>
        }

        <div class="admin-footer">
            <a href="@Url.Action("Logout", "Admin")" class="logout-btn">
                Logout
            </a>
        </div>
    </div>
</div>